<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Team Builder</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      height: 100vh;
      margin: 0;
      padding-top: 20px;
      overflow: hidden;
      font-family: 'Impact', 'Arial', sans-serif;
      background-color: #3a3a3a; /* Change background color here */
    }

    .team-container {
      text-align: center;
      margin: 20px;
      position: relative;
      max-height: calc(100vh - 60px);
      overflow-y: auto;
    }

    .character-container {
      display: inline-block;
      background-color: #3a3a3a;
      margin-right: 10px;
      margin-bottom: 20px;
    }

    .character-btn, .character-img {
      width: 200px;
      height: 150px;
      overflow: hidden;
      text-align: center;
      color: white;
      background-color: #3a3a3a;
      padding: 10px;
      white-space: normal;
      word-wrap: break-word;
      margin-bottom: 10px;
    }

    .character-img {
      background-color: #3a3a3a;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 12px;
    }

    .delete-btn {
      display: block;
      margin-top: 5px;
      width: 220px;
    }

    .total-cost {
      margin-bottom: 20px;
      font-size: 2em;
      color: white;
    }

    .page-title {
      margin-bottom: 20px;
      font-size: 4em;
      color: white;
    }

    .site-title {
      margin-bottom: 20px;
      font-size: 4em;
      color: white;
    }

    /* Error message style */
    .error-message {
      color: red;
      font-size: 1.2em;
      margin-bottom: 10px;
      display: none; /* Hidden by default */
    }

    /* Style for character selection modal */
    #characterSelectModal {
      position: absolute;
      background-color: white;
      border: 1px solid #ccc;
      padding: 10px;
      display: none;
    }

    /* Search input styling */
    #characterSearch {
      margin-bottom: 10px;
      width: 100%;
      padding: 8px;
      box-sizing: border-box;
    }

    /* Character list styling */
    .character-list-item {
      margin: 5px 0;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="team-container">
    <div id="siteTitle" class="site-title">Sparking Zero Data</div>
    <div id="pageTitle" class="page-title">Team Calculator</div>
    <div id="totalCost" class="total-cost">Total Cost: 0</div>
    <div id="errorMessage" class="error-message">Total cost cannot exceed 15!</div>
    <div id="team"></div>
    <button id="addCharacterBtn">Add Character</button>
    <button id="shareTeamBtn">Share Team</button>
  </div>

  <!-- Character selection modal -->
  <div id="characterSelectModal">
    <input type="text" id="characterSearch" placeholder="Search character...">
    <div id="characterList"></div>
  </div>

  <script>
    const maxTeamSize = 5;
    const maxTotalCost = 15;
    let team = [];
    let totalCost = 0;

    const characters = [
      { name: 'Goku (Z-Early) [4]', cost: 4, abilities: ['Kamehameha', 'Instant Transmission', 'Spirit Bomb', 'Kaioken'], image: 'https://media.graphassets.com/saQPTCeXRvSD7GeoAa1v' },
      { name: 'Goku (Z-Mid) [5]', cost: 5, abilities: ['Kamehameha', 'Instant Transmission', 'Spirit Bomb', 'Kaioken'], image: 'https://media.graphassets.com/qb5EFsSTAaQWKhXWCCJy' },
      { name: 'Goku (Z-Mid) SSJ1 [6]', cost: 6, abilities: ['Kamehameha', 'Instant Transmission', 'Spirit Bomb', 'Kaioken'], image: 'https://media.graphassets.com/RMkc1VaRCaideLib3PZm' },
      { name: 'Goku (Z-End) [5]', cost: 5, abilities: ['Kamehameha', 'Instant Transmission', 'Spirit Bomb', 'Kaioken'], image: 'https://media.graphassets.com/uxAbcO0dQ3mOzRieB89G' },
      { name: 'Goku (Z-End) SSJ1 [6]', cost: 6, abilities: ['Kamehameha', 'Instant Transmission', 'Spirit Bomb', 'Kaioken'], image: 'https://media.graphassets.com/ol0REKtTTemChXwiwhQt' },
      { name: 'Goku (Z-End) SSJ2 [7]', cost: 7, abilities: ['Kamehameha', 'Instant Transmission', 'Spirit Bomb', 'Kaioken'], image: 'https://media.graphassets.com/zu6LDhKDRUmHbODQXgMV' },
      { name: 'Goku (Z-End) SSJ3 [8]', cost: 8, abilities: ['Kamehameha', 'Instant Transmission', 'Spirit Bomb', 'Kaioken'], image: 'https://media.graphassets.com/bH6gCLlzT4u2nX6hr612' },
      { name: 'Goku (Super) [5]', cost: 5, abilities: ['Kamehameha', 'Instant Transmission', 'Spirit Bomb', 'Kaioken'], image: 'https://media.graphassets.com/qe9wv9IVQJ6ThVFYMbXz' },
      { name: 'Goku (Super) SSJ1 [6]', cost: 6, abilities: ['Kamehameha', 'Instant Transmission', 'Spirit Bomb', 'Kaioken'], image: 'https://media.graphassets.com/SjQwbvPNQCIVvBXJv2rE' },
      { name: 'Goku (Super) SSJG [7]', cost: 7, abilities: ['Kamehameha', 'Instant Transmission', 'Spirit Bomb', 'Kaioken'], image: 'https://media.graphassets.com/zeCh6lwlSIO2F8daL75S' },
      { name: 'Goku (Super) SSJB [8]', cost: 8, abilities: ['Kamehameha', 'Instant Transmission', 'Spirit Bomb', 'Kaioken'], image: 'https://media.graphassets.com/UlDd60UQCSRUgVkehz36' },
      { name: 'Vegeta (Scouter) [4]', cost: 4, abilities: ['Final Flash', 'Big Bang Attack', 'Galick Gun', 'Saiyan Pride'], image: 'https://media.graphassets.com/SOFlBAogRpScTEQJBrr2' },
      { name: 'Great Ape Vegeta [5]', cost: 5, abilities: ['Final Flash', 'Big Bang Attack', 'Galick Gun', 'Saiyan Pride'], image: 'https://media.graphassets.com/fm4WnejQ7WFIf31KKFww' },
      { name: 'Vegeta (Z-Early) [5]', cost: 5, abilities: ['Final Flash', 'Big Bang Attack', 'Galick Gun', 'Saiyan Pride'], image: 'https://media.graphassets.com/eGaVes17T2u6UxaYDH6m' },
      { name: 'Vegeta (Z-Early) SSJ1 [6]', cost: 6, abilities: ['Final Flash', 'Big Bang Attack', 'Galick Gun', 'Saiyan Pride'], image: 'https://media.graphassets.com/iSSbErrYS3yup1Zd9LDT' },
      { name: 'Super Vegeta [6]', cost: 6, abilities: ['Final Flash', 'Big Bang Attack', 'Galick Gun', 'Saiyan Pride'], image: 'https://media.graphassets.com/wHhfp9GwQ6u4JRcn7SoF' },
      { name: 'Vegeta (Z-End) [5]', cost: 5, abilities: ['Final Flash', 'Big Bang Attack', 'Galick Gun', 'Saiyan Pride'], image: 'https://media.graphassets.com/Bh4RdpunSNG1RcTMACSE' },
      { name: 'Vegeta (Z-End) SSJ1 [6]', cost: 6, abilities: ['Final Flash', 'Big Bang Attack', 'Galick Gun', 'Saiyan Pride'], image: 'https://media.graphassets.com/QrFliGXxR2OAQUutetDk' },
      { name: 'Vegeta (Z-End) SSJ2 [7]', cost: 7, abilities: ['Final Flash', 'Big Bang Attack', 'Galick Gun', 'Saiyan Pride'], image: 'https://media.graphassets.com/Zj0kFtfUROGTlzyvCRBD' },
      { name: 'Majin Vegeta [7]', cost: 7, abilities: ['Final Flash', 'Big Bang Attack', 'Galick Gun', 'Saiyan Pride'], image: 'https://media.graphassets.com/WexSElPAQ0W9OjHN7rV6' },
      { name: 'Vegeta (Super) [5]', cost: 5, abilities: ['Final Flash', 'Big Bang Attack', 'Galick Gun', 'Saiyan Pride'], image: 'https://media.graphassets.com/8FxfQ1pRuWvuS3qRudlf' },
      { name: 'Vegeta (Super) SSJ1 [6]', cost: 6, abilities: ['Final Flash', 'Big Bang Attack', 'Galick Gun', 'Saiyan Pride'], image: 'https://media.graphassets.com/kJA9oNyDR7qVzBgOL9GK' },
      { name: 'Vegeta (Super) SSJG [7]', cost: 7, abilities: ['Final Flash', 'Big Bang Attack', 'Galick Gun', 'Saiyan Pride'], image: 'https://media.graphassets.com/wjxaR8f6Sr25FxbgId6b' },
      { name: 'Vegeta (Super) SSJB [8]', cost: 8, abilities: ['Final Flash', 'Big Bang Attack', 'Galick Gun', 'Saiyan Pride'], image: 'https://media.graphassets.com/INhPxDHySW641hfAr1Pg' },
      { name: 'Piccolo [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/0SwHgtnQQwmEBasTjywL' },
      { name: 'Krillin [3]', cost: 3, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/t2T10sodR2mNCscncjdX' },
      { name: 'Yamcha [3]', cost: 3, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/D8NNdVoQ96x5v7riUZuT' },
      { name: 'Tien [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/CTQr2ME0SdWEo9MOi5eR' },
      { name: 'Trunks (Melee) SSJ1 [6]', cost: 6, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/nA4iE7kvTz6XZs36oqQC' },
      { name: 'Trunks (Future) SSJ1 [6]', cost: 6, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/YUaXdg3AR02MLUCDGq0C' },
      { name: 'Frieza (Super) [6]', cost: 6, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/KiZDdATrQru3F1civ6lZ' },
      { name: 'Cell (Perfect) [6]', cost: 6, abilities: ['Kamehameha', 'Absorption', 'Perfect Form', 'Death Beam'], image: 'https://media.graphassets.com/etPZGwgZQ5mLlrNo5g0t' },
      { name: 'Majin Buu [6]', cost: 6, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/FiGLiyqRYy9QqALxL9Ox' },
      { name: 'Mr. Satan [1]', cost: 1, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/tWYVJoebQny8WgrO9kHL' },
      { name: 'Android 17 (Super) [6]', cost: 6, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/8W5ORqITe65owEuIrsMA' },
      { name: 'Android 18 [5]', cost: 5, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/oJdY4EOXTw2I4iOYXBdb' },
      { name: 'Broly (Super) [5]', cost: 5, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/LM9UkYHOTL6V7YeT79s3' },
      { name: 'Broly (Super) SSJ1 [6]', cost: 6, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/CpPqywiZSB2ZMMhixDnH' },
      { name: 'Jiren [8]', cost: 8, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/i68NCdjQSxaDBHK8aLwX' },
      { name: 'Bergamo [5]', cost: 5, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/5mHvbzzRmuDrf5b9VHQk' },
      { name: 'Super Trunks [6]', cost: 6, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/dcemxY80RjuKMdNzhCXZ' },
      { name: 'Dyspo [6]', cost: 6, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/W4VD67bFQ4OlEK0g41Jo' },
      { name: 'Kakunsa [5]', cost: 5, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/U51Ft3K2TuiqEBDHofXc' },
      { name: 'Master Roshi (Max) [2]', cost: 2, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/sb6LjYoFT3uu7PP1VUV4' },
      { name: 'Nappa [3]', cost: 3, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/25GHB1M0QLCIIdsfME1E' },
      { name: 'Burter [3]', cost: 3, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/xTm0nkVpRqv0Nj7BU6uA' },
      { name: 'Toppo [7]', cost: 7, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/KWqrIcfYShaVJIczJlVA' },
      { name: 'Jeice [3]', cost: 3, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/pYyWa4e0TS6GGKfd1RV6' },
      { name: 'Kale (Berserk) SSJ1 [7]', cost: 7, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/I11k6zQWSpv1sl6MpJng' },
      { name: 'Broly (Super) SSJ2 [9]', cost: 9, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/FAX95i9pQbuJKvbOhwSE' },
      { name: 'Hit [8]', cost: 8, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/ZKZIUt1CQAGLUzjpeZng' },
      { name: 'Beerus [10]', cost: 10, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/yn9ybMOcRMijpWj1pZxU' },
      { name: 'Gohan (Adult) [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/eISorVrETZKmnKIcBHbD' },
      { name: 'Videl [2]', cost: 2, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/uCBrNGCUTgK0weF1He2U' },
      { name: 'Gohan (Future) [5]', cost: 5, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/9hFwB1FFRlu338eWNvI2' },
      { name: 'Gohan (Future) SSJ1 [6]', cost: 6, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/TweONXbyS0i4A5QLmSLp' },
      { name: 'Gohan (Kid) [3]', cost: 3, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/HUBuHo2qThClugtiDxzv' },
      { name: 'Master Roshi [2]', cost: 2, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/0MJzMS3aQDaOLSdLj8gm' },
      { name: 'Trunks (Sword) [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/5kSxW9dIRP2GXgHnigW6' },
      { name: 'Trunks (Sword) SSJ1 [5]', cost: 5, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/Lyz7mc9FTQCLD8BlnTFA' },
      { name: 'Whis [10]', cost: 10, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/InqQHTSMRaaIktxY6Q5u' },
      { name: 'Trunks (Kid) [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/mhcJsLfbQDyrH2FvPzoQ' },
      { name: 'Trunks (Kid) SSJ1 [5]', cost: 5, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/cNz0Fw2RQaHbKM74efaH' },
      { name: 'Goten [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/8H2u6bvNQ5SLpgy3nneZ' },
      { name: 'Goten SSJ1 [5]', cost: 5, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/lSC9ucFETautS3oBnTJ8' },
      { name: 'Gotenks [6]', cost: 6, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/VP2rS3lRwux0FQCKr8Km' },
      { name: 'Gotenks SSJ1 [7]', cost: 7, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/VYLCnFMR2WCeNe4a0Dep' },
      { name: 'Gotenks SSJ3 [8]', cost: 8, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/yJgauE0iRKCAyeuRyya2' },
      { name: 'Kale [5]', cost: 5, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/zLg5TdXKTVqHs7ZAilkl' },
      { name: 'Kale SSJ1 [6]', cost: 6, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/6Sy1PEVVSgK8sRWpsbOa' },
      { name: 'Caulifla [5]', cost: 5, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/On3mEmoBSumnTg5njW0H' },
      { name: 'Caulifla SSJ2 [6]', cost: 6, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/MOpMPuHTRuEw3qwt49wu' },
      { name: 'Kefla [6]', cost: 6, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/jBedsDBHRai1INDaZhwe' },
      { name: 'Kefla SSJ1 [7]', cost: 7, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/ItZjp0LaTmqT24O4tW1e' },
      { name: 'Kefla SSJ2 [8]', cost: 8, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/gNGGvB9fSsQ1r9MRZnQv' },
      { name: 'Vegito [7]', cost: 7, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/of5D6pgQu6Ni7YAumgMG' },
      { name: 'Vegito SSJB [10]', cost: 10, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/L6n3HUcEQn5Zxu9LslhB' },
      { name: 'Gogeta (Super) [7]', cost: 7, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/JMiGv28Q1icUJuJbTJ1t' },
      { name: 'Gogeta (Super) SSJ1 [8]', cost: 8, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/rPhISCkPQ56noo0gYAg7' },
      { name: 'Gogeta (Super) SSJB [10]', cost: 10, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/wkNHt6OKSIGEIi8buGRX' },
      { name: 'Fused Zamasu [8]', cost: 8, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/SXJ7FFaQQ4G8gyzqOGan' },
      { name: 'Fused Zamasu (Corrupted) [9]', cost: 9, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/v1YZiYxoTBqivEnRqQ94' },
      { name: 'Goku (Super) UI [9]', cost: 9, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/1grqEjKQrmRDbqzIYx8q' },
      { name: 'Gohan (Adult) SSJ2 [7]', cost: 7, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/pFcwWai5TZeOQEiR23BA' },
      { name: 'Golden Frieza [8]', cost: 8, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/xqXr7TfuTHyxZv6MZsV4' },
      { name: 'Bardock [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/uNRqrUQTtKlyWR086a8G' },
      { name: 'Raditz [3]', cost: 3, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/XLahtOBsRROetQbUhwSg' },
      { name: 'Goku Black [5]', cost: 5, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/5renoxwySuSrYqGkbmDg' },
      { name: 'Zamasu [5]', cost: 5, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/jKE9RuzoTNS1BZ5ESPQy' },
      { name: 'Jiren (Full) [9]', cost: 9, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/zirXmOsVShyK1SE7qsW4' },
      { name: 'Goku (Super) UIS [8]', cost: 8, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/lhNbAhD2RY94N9MPpllw' },
      { name: 'Super Vegito [8]', cost: 8, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/SsDYppQhR7O1e1kd0SGw' },
      { name: 'Yajirobe [2]', cost: 2, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/3wV9TwmJTCyo9ql3073m' },
      { name: 'Dabura [6]', cost: 6, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/600i4aAQ7y3TJw1mUmOA' },
      { name: 'Spopovich [2]', cost: 2, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/OUaTX6P8TGOZoBb1Fnu5' },
      { name: 'Goku Black (RosÃ©) [8]', cost: 8, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/KeiDvlhOQdyqywsJQJxK' },
      { name: 'Future Trunks [5]', cost: 5, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/3fsV2hrTRfGY8Y1A4eqE' },
      { name: 'Ribrianne [5]', cost: 5, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/1xMmezmNSFiN7wBmGFIT' },
      { name: 'Roasie [5]', cost: 5, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/Vm7KxqiQkOcI5XJ7Qlvg' },
      { name: 'Anilaza [8]', cost: 8, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/lXZpL4uIR7i1WzP0eGUH' },
      { name: 'Nail [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/0xc6bg9fTDaL2DsFSkLO' },
      { name: 'Frieza (1st Form) [5]', cost: 5, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/Gf23SvIZQk6mF4TZcJJ9' },
      { name: 'Frieza (2nd Form) [5]', cost: 5, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/D7bFH9vSTg2mgx3o2gZH' },
      { name: 'Frieza (3rd Form) [5]', cost: 5, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/9BuirKdDQEEHiXW9M6eP' },
      { name: 'Frieza (4th Form) [6]', cost: 6, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/UKEPi2hfTKq0hkA7XT7f' },
      { name: 'Frieza (Full) [7]', cost: 7, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/MwZB26qSZ6HKLXUkoTse' },
      { name: 'Chiaotzu [2]', cost: 2, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/iJImpFPtSxngoWcQEOHA' },
      { name: 'Saibaman [2]', cost: 2, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/mhQSGQmmT9mKttYCEC1y' },
      { name: 'Zarbon [3]', cost: 3, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/xMlmlmiGQXngL1luCnMw' },
      { name: 'Super Zarbon [3]', cost: 3, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/KG59McqQ7S02W0rtOK8w' },
      { name: 'Dodoria [3]', cost: 3, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/NmNR2LxrTHmZS3RQWgab' },
      { name: 'Cui [3]', cost: 3, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/phSURLTd6YDvKPZRPQ9A' },
      { name: 'Ginyu [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/wg0xxioMQii9ULmu9usu' },
      { name: 'Recoome [3]', cost: 3, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/FXvYaxuTmqhi1zfD3MUQ' },
      { name: 'Guldo [2]', cost: 2, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/NiuH9dLbQRul5403mo0p' },
      { name: 'Gohan (Teen) [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/p5hhbRixT7qk0BhvL2cM' },
      { name: 'Gohan (Teen) SSJ1 [6]', cost: 6, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/sfmpOKi3RDaH6XGmy3ba' },
      { name: 'Gohan (Teen) SSJ2 [7]', cost: 7, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/Elh5F6B7Qk6djPw0pus6' },
      { name: 'Trunks (Melee) [5]', cost: 5, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/qUuoPeQTeG8hz4k7Bnwq' },
      { name: 'Android 17 (Z) [5]', cost: 5, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/BS0fGkh6STJqBTfYUKgp' },
      { name: 'Android 16 [5]', cost: 5, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/ZXF19jnlRJOj3oJhFWzW' },
      { name: 'Android 19 [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/tiGnSk8vQaKACNpryjtS' },
      { name: 'Dr. Gero [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/OzTopJlVR1CC74rDwZ7B' },
      { name: 'Cell (1st Form) [5]', cost: 5, abilities: ['Kamehameha', 'Absorption', 'Perfect Form', 'Death Beam'], image: 'https://media.graphassets.com/tuSO66eLQF6EE2RHhP4Q' },
      { name: 'Cell (2nd Form) [5]', cost: 5, abilities: ['Kamehameha', 'Absorption', 'Perfect Form', 'Death Beam'], image: 'https://media.graphassets.com/bx9Jp311R3GtH7aqC7wb' },
      { name: 'Perfect Cell [6]', cost: 6, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/XbGeKhiSUW21HbjjbKTA' },
      { name: 'Cell Jr. [3]', cost: 3, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/B5zrhBcES3KMtyxQRdZO' },
      { name: 'Piccolo (Fused) [5]', cost: 5, abilities: ['Kamehameha', 'Absorption', 'Perfect Form', 'Death Beam'], image: 'https://media.graphassets.com/b27cYCxRGG3pSHT1EKwI' },
      { name: 'King Cold [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/ZT07BDuESUw0AzVv99MA' },
      { name: 'Mecha Frieza [6]', cost: 6, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/O8kalfHQEWx8pCDylJVH' },
      { name: 'Great Saiyaman [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/vt9h9a5aQKCH1qF0WKji' },
      { name: 'Babidi [3]', cost: 3, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/zI7h7zETsCqBYefHG1rQ' },
      { name: 'Gohan (Adult) SSJ1 [6]', cost: 6, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/dr8WBPylTXusvsqJNj67' },
      { name: 'Majin Buu (Evil) [6]', cost: 6, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/iRYH7kh7SW2u2QYZ0ZJh' },
      { name: 'Super Buu [6]', cost: 6, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/FEKbJEuTz6YEimahCEaA' },
      { name: 'Ultimate Gohan [7]', cost: 7, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/zMmo3C6TQFiKKfspAV8m' },
      { name: 'Super Buuhan [7]', cost: 7, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/rUO8KZ00QeyqbRB7VXs4' },
      { name: 'Super Buutenks [7]', cost: 7, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/bqa9FffqQOKyCgWg7pLl' },
      { name: 'Kid Buu [7]', cost: 7, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/y1gv2XDgQrioAQlstT8Z' },
      { name: 'Goku (GT) [5]', cost: 5, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/1Ed1GyjsRPWlMAghrKjI' },
      { name: 'Pan (GT) [3]', cost: 3, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/yNK8gcQXSkcdaMmmPPjw' },
      { name: 'Goku (GT) SSJ1 [6]', cost: 6, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/EKWIPXFOQlCIy4JoJn4m' },
      { name: 'Goku (GT) SSJ3 [7]', cost: 7, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/KFvZTvOFQERO3MBiVL8A' },
      { name: 'Baby Vegeta (GT) [5]', cost: 5, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/9HlIWxVdQJGk2qnd4h4f' },
      { name: 'Super Baby (GT) SSJ1 [6]', cost: 6, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/DLZbmiRdmQNOz0iTcBhA' },
      { name: 'Super Baby (GT) SSJ2 [7]', cost: 7, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/YJryeQLRCSoCsx40jqJo' },
      { name: 'Uub (GT) [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/SxTJDD4KS7SLDM0jTT60' },
      { name: 'Majuub (GT) [6]', cost: 6, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/c4WhoYDSQVK5ymmILEaK' },
      { name: 'Goku (GT) SSJ4 [8]', cost: 8, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/55MGBDxSeyi9XvvXlkIw' },
      { name: 'Syn Shenron [7]', cost: 7, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/t6tMZFtZRN2VuVZnDmui' },
      { name: 'Great Ape Baby (GT) [7]', cost: 7, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/CBe0rem2T5SJaJNdi699' },
      { name: 'Omega Shenron (GT) [8]', cost: 8, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/Z1xPTaItSp6WQbYWQCfL' },
      { name: 'Vegeta (GT) SSJ4 [8]', cost: 8, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/RfgZAZQERUSi20HQsZhT' },
      { name: 'Gogeta (GT) SSJ4 [10]', cost: 10, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/tWRlzx1XQhamVRy63dND' },
      { name: 'Frieza Force Soldier [2]', cost: 2, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/ydYrcAu4TzWDTYE1CrvW' },
      { name: 'Cabba [5]', cost: 5, abilities: ['Kamehameha', 'Absorption', 'Perfect Form', 'Death Beam'], image: 'https://media.graphassets.com/Uix5nXGhTCOlcCdWESGQ' },
      { name: 'Frost [6]', cost: 6, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/orKzG1gISQWSftw7fdNd' },
      { name: 'Toppo (God) [8]', cost: 8, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/O8GWR2pYSgyKQTAKkK2d' },
      { name: 'Cabba SSJ2 [7]', cost: 7, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/4FEO5MRxRBc2xXI3iE7c' },
      { name: 'Cabba SSJ1 [6]', cost: 6, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/JlYVQvxlTdeteRlal9Wx' },
      { name: 'Broly (Z) [5]', cost: 5, abilities: ['Kamehameha', 'Absorption', 'Perfect Form', 'Death Beam'], image: 'https://media.graphassets.com/R90pzqAkS6iD9EjAIsnH' },
      { name: 'Broly (Z) SSJ1 [7]', cost: 7, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/iQJ7afnRn2eCWyZFNZUO' },
      { name: 'Broly (Z) SSJL [9]', cost: 9, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/aWRzJccjRD2c0Lds06Gd' },
      { name: 'Cooler [6]', cost: 6, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/ugMoYfl5T7CrkgP17M5h' },
      { name: 'Cooler (Final) [7]', cost: 7, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/kdUzRWFdTWi2cdmz53gF' },
      { name: 'Metal Cooler [7]', cost: 7, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/mr7bPmUWTCulWzmr8fAX' },
      { name: 'Android 13 (Z) [5]', cost: 5, abilities: ['Kamehameha', 'Absorption', 'Perfect Form', 'Death Beam'], image: 'https://media.graphassets.com/MrQbTm4WSVy4tO8Rwoqv' },
      { name: 'Android 13 (Fused) [7]', cost: 7, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/Z0k2Hu7Tiaypwf5H9fFh' },
      { name: 'Super Garlic Jr. [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/a67C3hnSJKRHVTMqgJx6' },
      { name: 'Dr. Wheelo [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/AhucdGqyTpWPOHo78SE8' },
      { name: 'Lord Slug [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/ow2PVuPQvOez2xFxUaPX' },
      { name: 'Lord Slug (Giant) [6]', cost: 6, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/mL86kfXrRomJa9kUCisd' },
      { name: 'Turles [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/DZC5MbNSsGD4vN3lmu5N' },
      { name: 'BoJack [5]', cost: 5, abilities: ['Kamehameha', 'Absorption', 'Perfect Form', 'Death Beam'], image: 'https://media.graphassets.com/CaqyXrbWR2i3Ky54yAJC' },
      { name: 'BoJack (Full) [7]', cost: 7, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/rzd2EGvKSfmeb5tL2gE5' },
      { name: 'Tapion [4]', cost: 4, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/SUf0QYTRSiHpkcWDyPnA' },
      { name: 'Janemba [5]', cost: 5, abilities: ['Kamehameha', 'Absorption', 'Perfect Form', 'Death Beam'], image: 'https://media.graphassets.com/bz3Ys1KTTK6co4WVRkZ2' },
      { name: 'Hirudegarn [6]', cost: 6, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/I9OMFQTiQlGdFYN25jS9' },
      { name: 'Super Janemba [7]', cost: 7, abilities: ['Death Beam', 'Supernova', 'Emperor\'s Will', 'Tail Strike'], image: 'https://media.graphassets.com/spsPzaoS4aahrFyQJfef' },
      { name: 'Gogeta (Z) SSJ1 [8]', cost: 8, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/w8uoZyASru7paq6EwulG' },
      { name: 'Goku (Teen) [3]', cost: 3, abilities: ['Special Beam Cannon', 'Regeneration', 'Namekian Fusion', 'Light Grenade'], image: 'https://media.graphassets.com/qs6I9rMmT1is3E0GLinR' }
    ];

    const addCharacterBtn = document.getElementById('addCharacterBtn');
    const shareTeamBtn = document.getElementById('shareTeamBtn');
    const teamContainer = document.getElementById('team');
    const totalCostDisplay = document.getElementById('totalCost');
    const errorMessage = document.getElementById('errorMessage');
    const characterSelectModal = document.getElementById('characterSelectModal');
    const characterSearch = document.getElementById('characterSearch');
    const characterList = document.getElementById('characterList');

    // Initialize the team from URL
    loadTeamFromURL();

    // Show modal and populate character list
    addCharacterBtn.addEventListener('click', () => {
      characterSearch.value = ''; // Clear the search field
      filterCharacterList('');    // Show all characters initially
      setModalNextToLastButton(); // Position modal
      characterSelectModal.style.display = 'block';
    });

    // Function to position modal next to the last character button
    function setModalNextToLastButton() {
      const charContainers = document.querySelectorAll('.character-container');
      if (charContainers.length > 0) {
        const lastCharContainer = charContainers[charContainers.length - 1];
        const lastButtonRect = lastCharContainer.getBoundingClientRect();
        const modalX = lastButtonRect.right + 10;
        const modalY = lastButtonRect.top;
        characterSelectModal.style.left = modalX + 'px';
        characterSelectModal.style.top = modalY + 'px';
      } else {
        const addButtonRect = addCharacterBtn.getBoundingClientRect();
        const modalX = addButtonRect.right + 10;
        const modalY = addButtonRect.top;
        characterSelectModal.style.left = modalX + 'px';
        characterSelectModal.style.top = modalY + 'px';
      }
    }

    characterSearch.addEventListener('input', () => {
      const query = characterSearch.value.toLowerCase();
      filterCharacterList(query);
    });

    shareTeamBtn.addEventListener('click', () => {
      const shareLink = generateShareLink();
      navigator.clipboard.writeText(shareLink)
         .then(() => {
             alert("Team link copied to clipboard!");
         })
         .catch(err => {
             alert("Failed to copy the link.");
         });
    });

    // Function to filter and display characters
    function filterCharacterList(query) {
      characterList.innerHTML = '';
      characters
        .filter(char => char.name.toLowerCase().includes(query))
        .forEach(char => {
          const listItem = document.createElement('div');
          listItem.classList.add('character-list-item');
          listItem.textContent = char.name;
          listItem.addEventListener('click', () => selectCharacter(char));
          characterList.appendChild(listItem);
        });
    }

    // Function to handle character selection
    function selectCharacter(selectedChar) {
      if (totalCost + selectedChar.cost > maxTotalCost) {
        errorMessage.style.display = 'block';
        return;
      }

      errorMessage.style.display = 'none';
      if (team.length < maxTeamSize) {
        team.push(selectedChar);
        totalCost += selectedChar.cost;
        totalCostDisplay.textContent = `Total Cost: ${totalCost}`;

        const charContainer = document.createElement('div');
        charContainer.classList.add('character-container');

        const charImage = document.createElement('div');
        charImage.classList.add('character-img');
        const imgElement = document.createElement('img');
        imgElement.src = selectedChar.image;
        imgElement.alt = selectedChar.name;
        imgElement.style.width = '100%';
        imgElement.style.height = '100%';
        charImage.appendChild(imgElement);

        const charButton = document.createElement('button');
        charButton.classList.add('character-btn');
        const charName = selectedChar.name.replace(/\s\[[0-9]+\]/, '');
        charButton.innerHTML = `
          <strong>${charName}</strong><br>
          Cost: ${selectedChar.cost}<br>
          <br><!--
          <strong>Abilities:</strong><br>
          ${selectedChar.abilities.map(ability => ability).join('<br>')} -->
        `;

        
        const deleteButton = document.createElement('button');
        deleteButton.textContent = 'Delete';
        deleteButton.classList.add('delete-btn');
        deleteButton.addEventListener('click', () => {
          team = team.filter(member => member.name !== selectedChar.name);
          totalCost -= selectedChar.cost;
          totalCostDisplay.textContent = `Total Cost: ${totalCost}`;
          teamContainer.removeChild(charContainer);
          addCharacterBtn.disabled = false;
          updateURLWithTeam();
        });

        charContainer.appendChild(charImage);
        charContainer.appendChild(charButton);
        charContainer.appendChild(deleteButton);
        teamContainer.appendChild(charContainer);
        characterSelectModal.style.display = 'none';

        if (team.length === maxTeamSize || totalCost === maxTotalCost) {
          addCharacterBtn.disabled = true;
        }
        
        updateURLWithTeam();
      }
    }

    function generateShareLink() {
      const baseUrl = window.location.origin + window.location.pathname;
      const teamQuery = team.map(member => `${encodeURIComponent(member.name)}|${member.cost}`).join(',');
      return `${baseUrl}?team=${teamQuery}`;
    }

    function updateURLWithTeam() {
      const newUrl = generateShareLink();
      window.history.replaceState({}, '', newUrl);
    }

    function loadTeamFromURL() {
      const urlParams = new URLSearchParams(window.location.search);
      const teamQuery = urlParams.get('team');
      if (teamQuery) {
        const teamData = teamQuery.split(',').map(item => {
          const [name, cost] = item.split('|');
          return { name: decodeURIComponent(name), cost: parseInt(cost) };
        });

        teamData.forEach(member => {
          const character = characters.find(char => char.name === member.name);
          if (character) {
            selectCharacter(character);
          }
        });
      }
    }
  </script>
</body>
</html>
